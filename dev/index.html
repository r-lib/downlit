<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Syntax Highlighting and Automatic Linking • downlit</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet">
<link href="deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Syntax Highlighting and Automatic Linking">
<meta name="description" content="Syntax highlighting of R code, specifically designed for the needs of RMarkdown packages like pkgdown, hugodown, and bookdown. It includes linking of function calls to their documentation on the web, and automatic translation of ANSI escapes in output to the equivalent HTML.">
<meta property="og:description" content="Syntax highlighting of R code, specifically designed for the needs of RMarkdown packages like pkgdown, hugodown, and bookdown. It includes linking of function calls to their documentation on the web, and automatic translation of ANSI escapes in output to the equivalent HTML.">
<meta name="robots" content="noindex">
<script defer data-domain="downlit.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">downlit</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.4.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/downlit/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="downlit">downlit<a class="anchor" aria-label="anchor" href="#downlit"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of downlit is to provide syntax highlighting and automatic linking of R code in a way that is easily used from RMarkdown packages like <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>, <a href="https://bookdown.org" class="external-link">bookdown</a>, and <a href="https://hugodown.r-lib.org/" class="external-link">hugodown</a>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install downlit from CRAN with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"downlit"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<p>downlit has two slightly different highlighting/linking engines:</p>
<ul>
<li>
<code><a href="reference/highlight.html">highlight()</a></code> works with multiline code blocks and does syntax highlighting, function linking, and comment styling.</li>
<li>
<code><a href="reference/autolink.html">autolink()</a></code> works with inline code and only does linking.</li>
</ul>
<p>Multiline code blocks have:</p>
<ul>
<li>Code syntax highlighted using R’s parser.</li>
<li>Function calls automatically linked to their corresponding documentation.</li>
<li>Comments styled by transforming ANSI escapes sequences to their HTML equivalents (thanks <a href="https://github.com/brodieG/fansi" class="external-link">fansi</a> package).</li>
</ul>
<p>The following forms of inline code are recognized and automatically linked:</p>
<ul>
<li>
<code>fun()</code>, <code>pkg::fun()</code>.</li>
<li>
<code>?fun</code>, <code>pkg::fun</code>, <code>type?topic</code>.</li>
<li>
<code>help("fun")</code>, <code>help("fun", package = "package")</code>, <code><a href="https://rdrr.io/pkg/package/man" class="external-link">help(package = "package")</a></code>.</li>
<li>
<code>vignette("name")</code>, <code>vignette("name", package = "package")</code>.</li>
<li>
<code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(package)</a></code>, <code><a href="https://rdrr.io/r/base/library.html" class="external-link">require(package)</a></code>, <code><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace("package")</a></code>.</li>
<li>
<code>{package}</code> gets linked (if possible) <em>and formatted as plain text</em>.</li>
</ul>
<div class="section level3">
<h3 id="cross-package-links">Cross-package links<a class="anchor" aria-label="anchor" href="#cross-package-links"></a>
</h3>
<p>If downlit can find a pkgdown site for the remote package, it will link to it; otherwise it will link to <a href="https://rdrr.io/" class="external-link uri">https://rdrr.io/</a> for documentation, and CRAN for vignettes. In order for a pkgdown site to be findable, it needs to be listed in two places:</p>
<ul>
<li>
<p>In the <code>URL</code> field in the <code>DESCRIPTION</code>, as in <a href="https://github.com/tidyverse/dplyr/blob/85faf79c1fd74f4b4f95319e5be6a124a8075502/DESCRIPTION#L15" class="external-link">dplyr</a>:</p>
<pre><code>URL: https://dplyr.tidyverse.org, https://github.com/tidyverse/dplyr</code></pre>
</li>
<li>
<p>In the <code>url</code> field in <code>_pkgdown.yml</code>, as in <a href="https://github.com/tidyverse/dplyr/blob/master/_pkgdown.yml#L1" class="external-link">dplyr</a></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">url</span><span class="kw">:</span><span class="at"> https://dplyr.tidyverse.org</span></span></code></pre></div>
<p>When this field is defined, pkgdown generates a public facing <a href="https://dplyr.tidyverse.org/pkgdown.yml" class="external-link"><code>pkgdown.yml</code> file</a> that provides metadata about the site:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">pandoc</span><span class="kw">:</span><span class="at"> </span><span class="st">'2.2'</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">pkgdown</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.3.0</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="fu">pkgdown_sha</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="fu">articles</span><span class="kw">:</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="at">  </span><span class="fu">compatibility</span><span class="kw">:</span><span class="at"> compatibility.html</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="at">  </span><span class="fu">dplyr</span><span class="kw">:</span><span class="at"> dplyr.html</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="fu">urls</span><span class="kw">:</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="at">  </span><span class="fu">reference</span><span class="kw">:</span><span class="at"> https://dplyr.tidyverse.org/reference</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="at">  </span><span class="fu">article</span><span class="kw">:</span><span class="at"> https://dplyr.tidyverse.org/articles</span></span></code></pre></div>
</li>
</ul>
<p>So when you build a pkgdown site that links to the dplyr documentation (e.g., <code>dplyr::mutate()</code>), pkgdown looks first in dplyr’s <code>DESCRIPTION</code> to find its website, then it looks for <code>pkgdown.yml</code>, and uses the metadata to generate the correct links.</p>
</div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>downlit is designed to be used by other packages, and I expect most uses of downlit will use it via another package (e.g. <a href="https://github.com/r-lib/hugodown" class="external-link">hugodown</a>). If you want to use it in your own package, you’ll typically want to apply it as part of some bigger transformation process. You can get some sense of how this might work by reading the source code of <a href="https://github.com/r-lib/downlit/blob/master/R/downlit-html.R" class="external-link"><code>downlit_html()</code></a> and <a href="https://github.com/r-lib/downlit/blob/master/R/downlit-md.R" class="external-link"><code>downlit_md()</code></a>, which transform HTML and markdown documents respectively.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=downlit" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/r-lib/downlit/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/r-lib/downlit/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing downlit</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://hadley.nz" class="external-link">Hadley Wickham</a> <br><small class="roles"> Author, maintainer </small>   </li>
<li>
<a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a> <br><small class="roles"> Copyright holder, funder </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/r-lib/downlit/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/r-lib/downlit/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://CRAN.R-project.org/package=downlit" class="external-link"><img src="https://www.r-pkg.org/badges/version/downlit" alt="CRAN status"></a></li>
<li><a href="https://app.codecov.io/gh/r-lib/downlit" class="external-link"><img src="https://codecov.io/gh/r-lib/downlit/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer>
</body>
</html>
